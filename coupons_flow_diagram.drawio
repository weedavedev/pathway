<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36" version="24.7.16">
  <diagram name="Page-1" id="sNAaAK3G9qANnJFYBhQ5">
    <mxGraphModel dx="3047" dy="832" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="wreJWWUPQkv9o_l5MawO-1" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;apply_coupons_on_amount_loyalty&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="268" y="50" width="260" height="120" as="geometry">
            <mxRectangle x="240" y="130" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-2" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 7px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * function called externally to apply the discount on the coupon.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * This is an extended function from the original coupon plugin.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$amount&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$booking_object&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$apply_coupons&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;float&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-1">
          <mxGeometry y="30" width="260" height="90" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-3" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;WD_coupon_loyalty_helper&lt;br/&gt;is_coupon_code_valid&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="268" y="210" width="260" height="90" as="geometry">
            <mxRectangle x="260" y="210" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-4" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 6px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * Does a loyalty coupon check and then throws to the normal coupon code checker.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$coupon_code&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$booking_object&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;bool&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-3">
          <mxGeometry y="30" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-5" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fillColor=#f5f5f5;strokeColor=#666666;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="338" y="280" as="sourcePoint" />
            <mxPoint x="398" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-6" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;OS_coupon_helper&lt;br/&gt;is_coupon_code_valid&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-50" y="225" width="260" height="90" as="geometry">
            <mxRectangle x="260" y="210" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-7" value="get coupon model and params validility" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-6">
          <mxGeometry y="30" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-8" value="@RETURN true if coupon is valid" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-6">
          <mxGeometry y="60" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-9" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#f5f5f5;strokeColor=#666666;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-7" target="wreJWWUPQkv9o_l5MawO-4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="330" y="240" as="sourcePoint" />
            <mxPoint x="380" y="190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0.078;entryY=-0.017;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;entryPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-11" target="wreJWWUPQkv9o_l5MawO-44">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="600" y="-50" as="targetPoint" />
            <Array as="points">
              <mxPoint x="520" y="360" />
              <mxPoint x="971" y="360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-11" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;get_avaliable_loyalty_coupons&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="268" y="342" width="260" height="110" as="geometry">
            <mxRectangle x="260" y="210" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-12" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * Checks if the options is set, &lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;returns the value if so&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;OsCouponLoyaltyModel &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$loyal_coupon&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;int&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-11">
          <mxGeometry y="30" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-13" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fillColor=#d5e8d4;strokeColor=#82b366;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-11">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="398" y="380" as="sourcePoint" />
            <mxPoint x="397.5" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-14" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;update_avaliable_coupon_count&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="215" y="500" width="350" height="110" as="geometry">
            <mxRectangle x="260" y="210" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-15" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;font color=&quot;#bcbec4&quot;&gt;/**&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(95, 130, 107); font-style: italic;&quot;&gt; * Updates the wp_options table with new value, &lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;if no userID is passed it will default to current user&lt;/span&gt;&lt;span style=&quot;color: rgb(139, 179, 61); font-style: italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(139, 179, 61); font-style: italic;&quot;&gt;* @param int $userID&lt;br/&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(95, 130, 107); font-style: italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color: rgb(103, 163, 124); font-style: italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color: rgb(95, 130, 107); font-style: italic;&quot;&gt;OsCouponLoyaltyModel &lt;/span&gt;&lt;span style=&quot;color: rgb(152, 118, 170); font-style: italic;&quot;&gt;$loyal_coupon&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(152, 118, 170); font-style: italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(95, 130, 107); font-style: italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color: rgb(103, 163, 124); font-style: italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color: rgb(95, 130, 107); font-style: italic;&quot;&gt;int&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(95, 130, 107); font-style: italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color: rgb(103, 163, 124); font-style: italic;&quot;&gt;@throws &lt;/span&gt;&lt;font color=&quot;#5f826b&quot;&gt;&lt;i&gt;Exception if there was an error updating the option &lt;br&gt;&lt;/i&gt;&lt;/font&gt;&lt;font color=&quot;#bcbec4&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;with the new values&lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;color: rgb(188, 190, 196); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-14">
          <mxGeometry y="30" width="350" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-16" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;calculate_avaliable_coupons&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="215" y="650" width="350" height="110" as="geometry">
            <mxRectangle x="260" y="210" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-17" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;color: rgb(188, 190, 196); font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * Calculate the amount of coupons avaliable for this user&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;OsCouponLoyaltyModel &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$loyal_coupon&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;int&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-16">
          <mxGeometry y="30" width="350" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-18" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;get_valid_bookings&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="215" y="840" width="350" height="110" as="geometry">
            <mxRectangle x="260" y="210" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-19" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;color: rgb(188, 190, 196); font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * Subtracts the amount of used bookings from the total&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;OsCouponLoyaltyModel &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$loyal_coupon&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;int number of valid bookings&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-18">
          <mxGeometry y="30" width="350" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-20" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;get_used_booking_count&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="215" y="1030" width="350" height="170" as="geometry">
            <mxRectangle x="260" y="210" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-21" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;color: rgb(188, 190, 196); font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * Return total used bookings, simple used multiplied by trigger.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * RETURNS: bookings with a loyal coupon multiplied by trigger&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * For future we will plan to update the booking with a coupon used &lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;status, maybe child table to bookings table etc.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * This will also allow us to store some meta data, because its a major &lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;problem if you change the trigger amount now,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * EVERYTHING is recalulated!&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;OsCouponLoyaltyModel &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$coupons_loyalty&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;int trigger multiplied by used count.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-20">
          <mxGeometry y="30" width="350" height="140" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-22" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;get_bookings_with_coupon_code&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="215" y="1280" width="350" height="110" as="geometry">
            <mxRectangle x="260" y="210" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-23" value="&lt;div style=&quot;background-color: rgb(30, 31, 34);&quot;&gt;&lt;pre style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;pre style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;pre style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;pre style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;pre style=&quot;&quot;&gt;&lt;div style=&quot;color: rgb(188, 190, 196); font-size: 11px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * RETURNS bookings made with code, therefor &#39;used&#39;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;OsCouponLoyaltyModel &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$loyal_coupon&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;int&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-22">
          <mxGeometry y="30" width="350" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-24" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.467;entryY=1.018;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#d5e8d4;strokeColor=#82b366;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-14" target="wreJWWUPQkv9o_l5MawO-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="380" y="470" as="sourcePoint" />
            <mxPoint x="430" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-25" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.497;entryY=1.02;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-16" target="wreJWWUPQkv9o_l5MawO-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="390" y="670" as="sourcePoint" />
            <mxPoint x="440" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-26" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.503;entryY=1.008;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-18" target="wreJWWUPQkv9o_l5MawO-17">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="390" y="810" as="sourcePoint" />
            <mxPoint x="440" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-27" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1.002;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-20" target="wreJWWUPQkv9o_l5MawO-19">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="390" y="920" as="sourcePoint" />
            <mxPoint x="440" y="870" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-28" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.499;entryY=1.018;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-22" target="wreJWWUPQkv9o_l5MawO-21">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="390" y="1220" as="sourcePoint" />
            <mxPoint x="440" y="1170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-30" target="wreJWWUPQkv9o_l5MawO-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-30" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;get_all_valid_loyalty_bookings&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-220" y="855" width="350" height="110" as="geometry">
            <mxRectangle x="260" y="210" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-31" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;color: rgb(188, 190, 196); font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * Get coupon list minus loyalty code, creates a count of all slots valid for loyalty count..&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * RETURNS count of bookings that match case&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;OsCouponLoyaltyModel &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$loyal_coupon&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$min_price&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;int&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-30">
          <mxGeometry y="30" width="350" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#d5e8d4;strokeColor=#82b366;entryX=0.483;entryY=1.013;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-33" target="wreJWWUPQkv9o_l5MawO-31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-33" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;get_used_coupon_codes&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-225" y="1030" width="350" height="110" as="geometry">
            <mxRectangle x="260" y="210" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-34" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;color: rgb(188, 190, 196); font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * RETURNS array of used coupon codes&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;OsCouponLoyaltyModel &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$loyal_coupon&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;array|false&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-33">
          <mxGeometry y="30" width="350" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-35" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;get_user_loyalty_details&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="951" y="480" width="260" height="150" as="geometry">
            <mxRectangle x="650" y="320" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-36" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;font color=&quot;#bcbec4&quot;&gt;/**&lt;br&gt;&lt;/font&gt;&lt;font color=&quot;#5f826b&quot;&gt;&lt;i&gt; * RETURNS ARRAY OF ALL coupon &lt;br/&gt;&lt;/i&gt;&lt;/font&gt;&lt;font color=&quot;#bcbec4&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;details&lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;color: rgb(188, 190, 196); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;array|false&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-35">
          <mxGeometry y="30" width="260" height="120" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.008;entryY=0.616;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;entryPerimeter=0;exitX=0.795;exitY=-0.003;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-38" target="wreJWWUPQkv9o_l5MawO-45">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="813" y="584" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-38" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;userID&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="670" y="720" width="180" height="120" as="geometry">
            <mxRectangle x="240" y="130" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-39" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 7px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;int&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@throws &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;Exception&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-38">
          <mxGeometry y="30" width="180" height="90" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-40" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;wpuser_to_lpuser&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="630" y="880" width="260" height="120" as="geometry">
            <mxRectangle x="240" y="130" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-41" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 7px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * Converts a WPuser ID to align with the LP db tables.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$userId&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;int&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@throws &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;Exception if there is no match.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-40">
          <mxGeometry y="30" width="260" height="90" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-42" value="" style="endArrow=classic;html=1;rounded=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="760" y="880" as="sourcePoint" />
            <mxPoint x="760" y="840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-43" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-38" target="wreJWWUPQkv9o_l5MawO-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="130" y="480" as="sourcePoint" />
            <mxPoint x="210" y="510" as="targetPoint" />
            <Array as="points">
              <mxPoint x="710" y="500" />
              <mxPoint x="630" y="500" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-44" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;get_user_loyalty_details&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="951" y="480" width="260" height="150" as="geometry">
            <mxRectangle x="650" y="320" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-45" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;font color=&quot;#bcbec4&quot;&gt;/**&lt;br&gt;&lt;/font&gt;&lt;font color=&quot;#5f826b&quot;&gt;&lt;i&gt; * RETURNS ARRAY OF ALL coupon &lt;br/&gt;&lt;/i&gt;&lt;/font&gt;&lt;font color=&quot;#bcbec4&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;details&lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;color: rgb(188, 190, 196); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;array|false&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-44">
          <mxGeometry y="30" width="260" height="120" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-46" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;get_coupon_nice_summary&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1271" y="660" width="260" height="150" as="geometry">
            <mxRectangle x="650" y="320" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-47" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;div style=&quot;color: rgb(188, 190, 196); font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; *  Return short scentence explainin coupon status&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; *  RETURNS string of text with description.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;OsCouponLoyaltyModel &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$loyal_coupon&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;false|string&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-46">
          <mxGeometry y="30" width="260" height="120" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.971;entryY=1.026;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#ffe6cc;strokeColor=#d79b00;exitX=0;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-46" target="wreJWWUPQkv9o_l5MawO-45">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="980.9999999999995" y="700.1428571428571" as="targetPoint" />
            <mxPoint x="901" y="660" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="1204" y="660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-50" target="wreJWWUPQkv9o_l5MawO-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-50" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;&lt;div&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;bookings_until_next_coupon&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1271" y="480" width="260" height="150" as="geometry">
            <mxRectangle x="650" y="320" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-51" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;div style=&quot;color: rgb(188, 190, 196); font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * Calculates how many more bookings it will be &lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;until you acheive another coupon.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;OsCouponLoyaltyModel &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$loyal_coupon &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;the &lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;current coupon object&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;int The amount of bookings required &lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;for another coupon&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-50">
          <mxGeometry y="30" width="260" height="120" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-51" target="wreJWWUPQkv9o_l5MawO-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-53" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.083;entryY=1.006;entryDx=0;entryDy=0;exitX=1;exitY=0;exitDx=0;exitDy=0;fillColor=#f8cecc;strokeColor=#b85450;entryPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-22" target="wreJWWUPQkv9o_l5MawO-45">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="710" y="530" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="565" y="1300" />
              <mxPoint x="973" y="1300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-54" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;controller::apply&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="548" y="50" width="260" height="120" as="geometry">
            <mxRectangle x="240" y="130" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-55" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 7px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * Apply function inherited from coupons plugin, &lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Basically to just run an extra check in &lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;is_coupon_code_valid&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;void&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#8bb33d;font-style:italic;&quot;&gt;TODO : mix this function so it integrates rather &lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;than replaces the original apply()&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#8bb33d;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;*/&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-54">
          <mxGeometry y="30" width="260" height="90" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0.386;entryY=1.01;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#f5f5f5;strokeColor=#666666;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-3" target="wreJWWUPQkv9o_l5MawO-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-57" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;model::id&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-590" y="70" width="260" height="90" as="geometry">
            <mxRectangle x="240" y="130" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-58" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 7px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * returns the id value for the coupon if set&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;false|mixed|string&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-57">
          <mxGeometry y="30" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-59" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;model::loyal_status&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-590" y="180" width="260" height="90" as="geometry">
            <mxRectangle x="240" y="130" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-60" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 7px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * returns the id value for the coupon if set&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;false|mixed|string&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-59">
          <mxGeometry y="30" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-61" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;model::loyal_code&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-593" y="290" width="260" height="90" as="geometry">
            <mxRectangle x="240" y="130" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-62" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 7px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * returns the id value for the coupon if set&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;false|mixed|string&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-61">
          <mxGeometry y="30" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-63" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;model::populate_values&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-970" y="310" width="260" height="120" as="geometry">
            <mxRectangle x="240" y="130" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-64" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 7px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * update the internal values from sources&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;void&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@throws &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;Exception when updating values&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt; goes wrong.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-63">
          <mxGeometry y="30" width="260" height="90" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-65" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;model::start_date&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-593" y="390" width="260" height="100" as="geometry">
            <mxRectangle x="240" y="130" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-66" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 7px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 11px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color: rgb(95, 130, 107); font-style: italic;&quot;&gt; * Will return the start date &lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;or 0 if all time.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;int|string&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-65">
          <mxGeometry y="30" width="260" height="70" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-67" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;model::loyal_trigger&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-593" y="500" width="260" height="90" as="geometry">
            <mxRectangle x="240" y="130" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-68" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 7px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * returns the id value for the coupon if set&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;false|mixed|string&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-67">
          <mxGeometry y="30" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-69" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;model::loyal_percent&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-596" y="610" width="260" height="90" as="geometry">
            <mxRectangle x="240" y="130" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-70" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 7px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * returns the id value for the coupon if set&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;false|mixed|string&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-69">
          <mxGeometry y="30" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.001;entryY=0.213;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-58" target="wreJWWUPQkv9o_l5MawO-63">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-680" y="130" />
              <mxPoint x="-680" y="336" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.001;entryY=0.138;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-60" target="wreJWWUPQkv9o_l5MawO-64">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-660" y="240" />
              <mxPoint x="-660" y="352" />
              <mxPoint x="-700" y="352" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.007;entryY=0.258;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-62" target="wreJWWUPQkv9o_l5MawO-64">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-593" y="340" />
              <mxPoint x="-650" y="340" />
              <mxPoint x="-650" y="363" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.013;entryY=0.386;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-66" target="wreJWWUPQkv9o_l5MawO-64">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-650" y="450" />
              <mxPoint x="-650" y="375" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.01;entryY=0.557;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-68" target="wreJWWUPQkv9o_l5MawO-64">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-660" y="560" />
              <mxPoint x="-660" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=1.007;entryY=0.788;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-69" target="wreJWWUPQkv9o_l5MawO-64">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-680" y="633" />
              <mxPoint x="-680" y="411" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-78" target="wreJWWUPQkv9o_l5MawO-58">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-78" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;model::get_options_values&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-240" y="330" width="260" height="120" as="geometry">
            <mxRectangle x="240" y="130" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-79" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 7px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * Returns the value from the options &lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;table relative to param&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;string &lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt;$loyal_option&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#9876aa;font-style:italic;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;* &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;mixed|string&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-78">
          <mxGeometry y="30" width="260" height="90" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.002;exitY=0.111;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-78" target="wreJWWUPQkv9o_l5MawO-60">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-260" y="343" />
              <mxPoint x="-260" y="240" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=-0.011;exitY=0.16;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-79" target="wreJWWUPQkv9o_l5MawO-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=-0.006;exitY=0.358;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-79" target="wreJWWUPQkv9o_l5MawO-66">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-300" y="392" />
              <mxPoint x="-300" y="455" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-79" target="wreJWWUPQkv9o_l5MawO-68">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=-0.006;exitY=0.753;exitDx=0;exitDy=0;entryX=1.004;entryY=0.37;entryDx=0;entryDy=0;entryPerimeter=0;exitPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-79" target="wreJWWUPQkv9o_l5MawO-70">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-270" y="428" />
              <mxPoint x="-270" y="662" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-85" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;model::fa_codes&lt;/pre&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-596" y="720" width="260" height="90" as="geometry">
            <mxRectangle x="240" y="130" width="280" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-86" value="&lt;div style=&quot;background-color: rgb(30, 31, 34); color: rgb(188, 190, 196); font-size: 7px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;/**&lt;br&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * returns the id value for the coupon if set&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#67a37c;font-style:italic;&quot;&gt;@return &lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt;false|mixed|string&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#5f826b;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="wreJWWUPQkv9o_l5MawO-85">
          <mxGeometry y="30" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wreJWWUPQkv9o_l5MawO-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.001;exitY=1;exitDx=0;exitDy=0;entryX=0.998;entryY=0.333;entryDx=0;entryDy=0;entryPerimeter=0;exitPerimeter=0;" edge="1" parent="1" source="wreJWWUPQkv9o_l5MawO-79" target="wreJWWUPQkv9o_l5MawO-86">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
